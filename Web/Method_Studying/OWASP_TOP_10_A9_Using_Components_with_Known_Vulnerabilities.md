#Mentoring_Web #OWASP_TOP_10

Using Components with Known Vulnerabilities는 라이브러리, 프레임워크, 소프트웨어 모듈같은 요소들을 어플리케이션과 같은 권한으로 주는 것이다. 취약한 요소가 공격당하면, 이러한 공격은 큰 데이터 손실과 서버의 권한 탈취로 이어질 수 있다. 취약점이 알려진 요소를 사용하는 어플리케이션과 API는 어플리케이션 방어에 훼손을 일으킬 수 있고 여러가지 공격과 영향을 미치게 된다.

공격 가능성은 2점이다. 이미 알려진 취약점에 대한 짜여진 익스플로잇은 찾기 쉽지만, 다른 취약점을 공격하기 위한 커스텀 익스플로잇을 만들기 위해서는 노력이 필요하다

존재 가능성과 발견 가능성은 각 3점과 2점이다. 이 문제에 대한 존재 가능성은 잘 알려져있다. 사용되는 컴포넌트가 많은 개발 패턴은 개발 팀이 어플리케이션이나 API에서 그들이 어떤 컴포넌트를 쓰는지도 모르고, 최신상태롷 업데이트하지 않게 된다.
스캐너들이 이를 발견하는데 도움을 주지만, 공격 가능성을 평가하는데 추가적인 노력이 필요하다.

기술적 영향은 2점이다. 알려진 취약점들중 몇개는 큰 영향이 없지만, 가장 큰 공격들은 알려진 컴포넌트의 취약점을 이용해 ㅣ루어진다.

다음과 같은 경우에 공격당하기 쉽다.
-- 서버단이든 클라이언트단이든 사용하는 모든 컴포넌트의 버전을 다 모르고 있는다면 문제가 발생할 수 있다. 이는 직접 사용하는 컴포넌트뿐 아니라 하위에 존재하는 컴포넌트도 포함된다. 
-- OS, DBMS, 웹서버, 어플리케이션, API, 런타임 environments, 라이브러리등 소프트웨어가 취약하거나, 지원되지 않거나, 최신 버전이 아닌 경우 문제가 발생할 수 있다.
-- 정기적으로 취약점을 스캔하지 않거나 사용하는 요소에 관련된 보안 공지를 읽지 않는 경우
-- 내재된 플랫폼, 프레임워크를 업데이트하거나 패치하지 않고, 종속성이 risk를 기반으로 하거나, 적시 방식일 경우. 이는 월간이나 분기 단위로 패치를 진행하도록 권한이 조정되어  취약점에 필요 없이 노출되도록 할 때 주로 발생한다.
-- 소프트웨어 개발자가 업데이트, 업그레이드, 패치된 라이브러리를 호환성 테스트 하지 않는 것,
-- 컴포넌트의 설정에 보안이 보장되지 않는 경우

패치 관리에서 예방을 위해 다음과 같은 과정이 필요하다
-- 사용되지 않는 종속성, 필요 없는 기능, 컴포넌트, 파일, 문서화된 설명을 지워라.
-- 서버단과 클라이언트에서 사용되는 모든 컴포넌트와 종속성을 문서화하라. CVE나 NVD같은 문서에서 취약점을 계속 확인하라. 소프트웨어 구성 분석 툴을 이용해 이러한 과정을 자동화 시키고, 너가 사용하는 컴포넌트의 취약점에 관련된 알림을 구독하라.
-- 컴포넌트를 사용할때 공식 소스에서 제공하는 안전한 링크를 사용하라. 인증되지 않은 수정된 패키지 쓰지말고 인증된 패키지를 사용해라.
-- 라이브러리와 컴포넌트가 구 버전을 위한 지원이 끊겼거나 보안 패치가 안되는지 확인하라. 패치가 불가능할 경우, virtual patch를 도입해 발견된 문제에 대한 모니터, 발견, 보호에 사용하라.
모든 단체는 어플리케이션이나 포트폴리오의 서비스 타임동안 모니터링, traging, 업데이트 적용이나 설정 교체에 대한 계획이 있어야한다.

공격 시나리오를 살펴보자. 컴포넌트가 어플리케이션과 같은 권한으로 구동된다고 하면, 어떠한 컴포넌트의 취약점도 큰 문제를 일으킬 수 있다. 이러한 취약점은 부주의에 의해서도, 의도적으로도 발생할 수 있다. 컴포넌트에 취약점이 발견된 예시도 써놨으니 읽어봐라.
공격자를 위해 잘못 설정되거나 패치되지 않은 시스템을 찾는 자동 툴이 있다. 예를 들어 Shodan IoT 검색엔진은 아직도 하트블리드 취약점에 노출되어있는 기기들을 찾을 수 있다.